{% extends "OdysseusBackBundle::layout.html.twig" %}

{% block title %} 
	Liste des produits Catalogue refusés - {{ parent() }}
{% endblock %}

{% block odysseusback_body %}

    <h2 class="page-header">Liste des produits Catalogue réfusés</h2>   
   
    {% for message in app.session.flashbag.get('info') %}
        <p class="bg-success contextual">{{ message }}</p>
    {% endfor %}
        
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Réf.</th>
                    <th>Nom</th>
                    <th>Marque</th>
                    <th>Catégorie</th>
                    <th>Sous-catégorie</th>
                    <th>Description</th>
                <!--  <th>Etat</th> -->
                </tr>
            </thead>
            <tbody>
                {% if(liste_produits) %}
                    {% for produit in liste_produits %} 
                    <tr>
                        <td> {{ produit.reference }} </td>
                        <td> {{ produit.nom }} </td>
                        <td> {{ produit.marque }} </td>
                        <td> {{ produit.categorie.nom }} </td>
                        <td> {{ produit.sousCategorie.nom }} </td>
                        <td> {{ produit.description }} </td>
                       <!-- <td> {{ produit.etat.nom }} </td> -->                   
                    </tr>
                    {% endfor %}
                 {% endif %}
            </tbody>
        </table>
    
        {% if (liste_produits | length) > 0 %}
        
            <ul class="pagination">
            {# On utilise la fonction range(a, b) qui crée un tableau de valeurs entre a et b #}
            {% for p in range(1, nombrePage) %}
                <li {% if p == page %} class="active"{% endif %} >
                <a href="{{ path('odysseus_back_lister_prod_cat_a_valider', {'page': p}) }}">{{ p }}</a>
                </li>
            {% endfor %}
            </ul>
       {% endif %}
            	
{% endblock %}